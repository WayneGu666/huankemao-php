(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4d4b8695"],{"13c0":function(e,t,a){},"21a6":function(e,t,a){(function(a){var s,l,n;(function(a,o){l=[],s=o,n="function"===typeof s?s.apply(t,l):s,void 0===n||(e.exports=n)})(0,(function(){"use strict";function t(e,t){return"undefined"==typeof t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}function s(e,t,a){var s=new XMLHttpRequest;s.open("GET",e),s.responseType="blob",s.onload=function(){i(s.response,t,a)},s.onerror=function(){console.error("could not download file")},s.send()}function l(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function n(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(s){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var o="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof a&&a.global===a?a:void 0,r=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),i=o.saveAs||("object"!=typeof window||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!r?function(e,t,a){var r=o.URL||o.webkitURL,i=document.createElement("a");t=t||e.name||"download",i.download=t,i.rel="noopener","string"==typeof e?(i.href=e,i.origin===location.origin?n(i):l(i.href)?s(e,t,a):n(i,i.target="_blank")):(i.href=r.createObjectURL(e),setTimeout((function(){r.revokeObjectURL(i.href)}),4e4),setTimeout((function(){n(i)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,a,o){if(a=a||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(t(e,o),a);else if(l(e))s(e,a,o);else{var r=document.createElement("a");r.href=e,r.target="_blank",setTimeout((function(){n(r)}))}}:function(e,t,a,l){if(l=l||open("","_blank"),l&&(l.document.title=l.document.body.innerText="downloading..."),"string"==typeof e)return s(e,t,a);var n="application/octet-stream"===e.type,i=/constructor/i.test(o.HTMLElement)||o.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||n&&i||r)&&"undefined"!=typeof FileReader){var d=new FileReader;d.onloadend=function(){var e=d.result;e=c?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),l?l.location.href=e:location=e,l=null},d.readAsDataURL(e)}else{var u=o.URL||o.webkitURL,f=u.createObjectURL(e);l?l.location=f:location.href=f,l=null,setTimeout((function(){u.revokeObjectURL(f)}),4e4)}});o.saveAs=i.saveAs=i,e.exports=i}))}).call(this,a("c8ba"))},"2e68":function(e,t,a){"use strict";a("13c0")},"4de4":function(e,t,a){"use strict";var s=a("23e7"),l=a("b727").filter,n=a("1dde"),o=a("ae40"),r=n("filter"),i=o("filter");s({target:"Array",proto:!0,forced:!r||!i},{filter:function(e){return l(this,e,arguments.length>1?arguments[1]:void 0)}})},"980c":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAACE0lEQVQ4T62TTUwTQRTH/2+2BVnqCthCjDGaECVBDSc9gIkaAgnGKAc9+BHiBV2IYjybtO5Gz0T8qh4VOHjw0gB+HASDFz35ScQEiNEo7VIRbKu2zJjd7Ta7RaMmzmGSeR+/ee/NfwhFq0uLt3GwNkZUJ4RoMN1E9IwL8YaBj1yLVI+4U8h9UDWjH8CRYmjReSAaCR51bAWAqhniD4kedzQStHKtTdWNHghc/BcACKej4WAfqXqyCYKP/y55TUhC54GVUAIM84scqTRH780FO5zYDlLPGVdA6HYDWhrL0FBXgtp1PsRG0xh+lEF7s4xtW0rx7mMO128v2uECV0nVjYcQ2OUAzNvW1kh4+TaL55M/cKw9gEqFYWIqC4kBs3NLGBxK5SvAKKlaIg5QyLSEqiToJyusEidnsoWizvdU4u54BvW1fnyI5zA0lsn7RIJUzfgEoMa0bNrgx8FWGRdufPGMpGN/AEo5Q3/sqzUH15qlLn3unhCi1QGc6VAQvjyPRHKpEHf2+CpMTGdx50HaAyai+3RCM/oIOGV6fBLQfUhBeRnhViwFeQVh43of9u6Ul7VlzxCXyJSuABt20KsrGPbtlrF9a6llmnqfw9jTb3jy4vuylybwPbaQfiFhs4oSP+HzgqdnN8SS9P+RsoP9K0nnJezkeH6j/S+STeD8MBjqIcRmW7L0ChyvwdhgNFz12N3HT5suvLEMklDqAAAAAElFTkSuQmCC"},a434:function(e,t,a){"use strict";var s=a("23e7"),l=a("23cb"),n=a("a691"),o=a("50c4"),r=a("7b0b"),i=a("65f0"),c=a("8418"),d=a("1dde"),u=a("ae40"),f=d("splice"),m=u("splice",{ACCESSORS:!0,0:0,1:2}),b=Math.max,p=Math.min,h=9007199254740991,g="Maximum allowed length exceeded";s({target:"Array",proto:!0,forced:!f||!m},{splice:function(e,t){var a,s,d,u,f,m,w=r(this),v=o(w.length),_=l(e,v),y=arguments.length;if(0===y?a=s=0:1===y?(a=0,s=v-_):(a=y-2,s=p(b(n(t),0),v-_)),v+a-s>h)throw TypeError(g);for(d=i(w,s),u=0;u<s;u++)f=_+u,f in w&&c(d,u,w[f]);if(d.length=s,a<s){for(u=_;u<v-s;u++)f=u+s,m=u+a,f in w?w[m]=w[f]:delete w[m];for(u=v;u>v-s+a;u--)delete w[u-1]}else if(a>s)for(u=v-s;u>_;u--)f=u+s-1,m=u+a-1,f in w?w[m]=w[f]:delete w[m];for(u=0;u<a;u++)w[u+_]=arguments[u+2];return w.length=v-s+a,d}})},a623:function(e,t,a){"use strict";var s=a("23e7"),l=a("b727").every,n=a("a640"),o=a("ae40"),r=n("every"),i=o("every");s({target:"Array",proto:!0,forced:!r||!i},{every:function(e){return l(this,e,arguments.length>1?arguments[1]:void 0)}})},aedd:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABgUlEQVQ4T6WTzytEURTHP2dmDEWmWLJQFoqNrNmzsWKyk1nZetlQo8lTolyyYcPKQrIhf4CSnZ8LZUH5BxALybx5R/PeeL13o8it9+qeH597v+ecK1hLS6aFlIwgOgBUv+o6QeUEX/el5DzFUyS+0XkzRopFlA4bHOyFB3xmZM7Z/fJHAHWNfpv0g1GKTpAb/NQ1Bpj6IfamZu+x/KtSdBzRpfV2PrwroDURIBzg+67MTZ8HhyysjKKyF4t5JJvpFXXNBLCdpMsbFXpIMw5aCn1SQitHSOosFlsQnTcbCJPW9S6l6PTZdanqVtfcAl1BvLIp6q7egXZagGNymUFevPeEPZdp4MW7jgDIvQXQZ0SWURbJlpspZ9dQLdQgW6i/kZRQBdgS0tIvs1OnXyfrgmnD8yrUZ5qosI4yFN0qlGAXUQ7JpfO8lodrVT8GbUSkG6XRklqw23gBXh7qDOLvhIVKtC6eH7bxm0G6APp+MZXhIEVa/zPKEeQ/jymC/PE5fwKKC6aF+wY8/AAAAABJRU5ErkJggg=="},c740:function(e,t,a){"use strict";var s=a("23e7"),l=a("b727").findIndex,n=a("44d2"),o=a("ae40"),r="findIndex",i=!0,c=o(r);r in[]&&Array(1)[r]((function(){i=!1})),s({target:"Array",proto:!0,forced:i||!c},{findIndex:function(e){return l(this,e,arguments.length>1?arguments[1]:void 0)}}),n(r)},d81d:function(e,t,a){"use strict";var s=a("23e7"),l=a("b727").map,n=a("1dde"),o=a("ae40"),r=n("map"),i=o("map");s({target:"Array",proto:!0,forced:!r||!i},{map:function(e){return l(this,e,arguments.length>1?arguments[1]:void 0)}})},e8d3:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"custom-list"},[s("div",{staticClass:"header-tabs"},[s("el-button",{class:e.checked?"active":"",on:{click:function(t){return e.handleCheckTabs(!0)}}},[e._v("企微客户 "),s("i",{directives:[{name:"show",rawName:"v-show",value:e.checked,expression:"checked"}],staticClass:"iconfont icon-question-circle",on:{click:function(t){e.showCourse=!e.showCourse}}})]),s("el-button",{class:e.checked?"":"active",on:{click:function(){e.$message.info("板块建设中...")}}},[e._v("非企微客户"),s("i",{directives:[{name:"show",rawName:"v-show",value:!e.checked,expression:"!checked"}],staticClass:"iconfont icon-question-circle",on:{click:function(){e.showCourse=!e.showCourse}}})]),s("span",{staticClass:"line"})],1),s("div",{directives:[{name:"show",rawName:"v-show",value:e.showCourse&&e.checked,expression:"showCourse && checked"}],staticClass:"course"},[e._m(0),e._m(1),e._m(2)]),s("div",{directives:[{name:"show",rawName:"v-show",value:e.showCourse&&!e.checked,expression:"showCourse && !checked"}],staticClass:"course"},[e._m(3),e._m(4)]),s("div",{directives:[{name:"show",rawName:"v-show",value:e.showForm,expression:"showForm"}],staticClass:"form"},[s("el-form",{ref:"searchForm",staticClass:"searchForm",staticStyle:{"margin-bottom":"0"},attrs:{rules:e.rules,"label-position":"left","label-width":"85px"}},[s("el-form-item",{attrs:{label:"关键词",prop:"keyword"}},[s("el-input",{attrs:{size:"small",placeholder:"请输入关键词"},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}})],1),s("el-form-item",{attrs:{label:"手机号码",prop:"follow_remark_mobiles"}},[s("el-input",{attrs:{size:"small"},model:{value:e.follow_remark_mobiles,callback:function(t){e.follow_remark_mobiles=t},expression:"follow_remark_mobiles"}})],1),s("el-form-item",{attrs:{label:"客户性别"}},[s("el-select",{attrs:{size:"small",placeholder:"请选择客户性别"},model:{value:e.gender,callback:function(t){e.gender=t},expression:"gender"}},e._l(e.genderObj,(function(e,t){return s("el-option",{key:t,attrs:{label:e,value:t}})})),1)],1),s("el-form-item",{attrs:{label:"客户来源"}},[s("el-select",{attrs:{size:"small",placeholder:"请选择客户来源"},model:{value:e.follow_add_way,callback:function(t){e.follow_add_way=t},expression:"follow_add_way"}},e._l(e.wayObj,(function(e,t){return s("el-option",{key:t,attrs:{label:e,value:t}})})),1)],1),s("el-form-item",{attrs:{label:"跟进状态"}},[s("el-select",{attrs:{size:"small",placeholder:"请选择跟进状态"},model:{value:e.follow_status,callback:function(t){e.follow_status=t},expression:"follow_status"}},e._l(e.statusObj,(function(e,t){return s("el-option",{key:t,attrs:{label:e,value:t}})})),1)],1),s("el-form-item",{attrs:{label:"部门成员"}},[s("el-select",{attrs:{size:"small",placeholder:"请选择部门成员"},model:{value:e.follow_userid,callback:function(t){e.follow_userid=t},expression:"follow_userid"}},e._l(e.staffList,(function(e){return s("el-option",{key:e.user_id,attrs:{label:e.name,value:e.user_id}})})),1)],1),s("el-form-item",{attrs:{label:"添加时间"}},[s("el-date-picker",{attrs:{size:"small",type:"daterange","value-format":"yyyy-MM-dd","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.addDate,callback:function(t){e.addDate=t},expression:"addDate"}})],1)],1)],1),e.showForm?s("div",{staticClass:"searchForm"},[s("el-button",{staticClass:"btn-blue",attrs:{size:"small"},on:{click:function(t){return e.reqGetCustomList()}}},[e._v("查找")]),s("el-button",{staticClass:"btn-white",attrs:{size:"small"},on:{click:e.handleClear}},[e._v("清空")]),s("el-button",{staticStyle:{color:"#6881ec"},attrs:{type:"text",size:"small"}},[e._v("更多筛选")]),s("el-button",{attrs:{type:"text",size:"small"},on:{click:function(){e.showForm=!1}}},[e._v("收起"),s("i",{staticClass:"el-icon-arrow-up"})])],1):s("div",{staticClass:"searchForm"},[s("el-input",{attrs:{size:"small",placeholder:"关键词查找"},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}}),s("el-button",{staticClass:"btn-blue",attrs:{size:"small"},on:{click:function(t){return e.reqGetCustomList()}}},[e._v("查找")]),s("el-button",{staticClass:"btn-white",attrs:{size:"small"},on:{click:e.handleClear}},[e._v("清空")]),s("el-button",{attrs:{size:"small",type:"text"},on:{click:function(t){e.showForm=!0}}},[e._v("更多筛选"),s("i",{staticClass:"el-icon-arrow-down"})])],1),s("div",{staticClass:"btns"},[s("el-button",{staticClass:"btn-white",attrs:{size:"small"},on:{click:e.lookRepeat}},[e._v("查看重复客户")]),s("span",[e._v("共 "+e._s(e.all_num||0)+" 位客户，实际客户 "+e._s(e.actual_num||0)+" 位")]),s("el-button",{class:0===e.selectData.length?"btn-opacity right":"btn-white right",attrs:{size:"small",disabled:0===e.selectData.length},on:{click:e.exportExcel}},[e._v("导出客户")]),s("el-button",{class:0===e.selectData.length?"btn-opacity":"btn-white",attrs:{size:"small",disabled:0===e.selectData.length},on:{click:e.Tagging}},[e._v("打标签")]),s("el-button",{class:0===e.selectData.length?"btn-opacity":"btn-white",attrs:{size:"small",disabled:0===e.selectData.length},on:{click:e.removeTag}},[e._v("移除标签")])],1),s("div",{staticClass:"table"},[s("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{"element-loading-text":"加载中...","element-loading-spinner":"el-icon-loading",data:e.tableData,"header-cell-style":{color:"#333",fontSize:"14px",backgroundColor:"#F6F7FB",fontWeight:"normal"}},on:{"selection-change":e.handleSelectionChange}},[s("el-table-column",{attrs:{type:"selection",width:"55"}}),s("el-table-column",{attrs:{label:"客户信息",width:"220"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("div",{staticClass:"slot-wrap"},[s("el-avatar",{staticStyle:{"min-width":"32px"},attrs:{size:32,src:t.row.avatar}}),s("div",{staticClass:"center"},[s("span",[e._v(e._s(t.row.name))]),s("span",[e._v("所在群：0个")])]),s("div",{staticClass:"gender"},[s("img",{directives:[{name:"show",rawName:"v-show",value:1==t.row.gender,expression:"scope.row.gender == 1"}],attrs:{src:a("980c"),width:"16",alt:""}}),s("img",{directives:[{name:"show",rawName:"v-show",value:2==t.row.gender,expression:"scope.row.gender == 2"}],attrs:{src:a("aedd"),width:"16",alt:""}})])],1)]}}])}),s("el-table-column",{attrs:{prop:"follow_add_way",label:"来源",width:"220"}}),s("el-table-column",{attrs:{label:"标签"},scopedSlots:e._u([{key:"default",fn:function(t){return s("div",{staticClass:"flex-wrap"},e._l(t.row.tag_ids,(function(t,a){return s("span",{key:a,attrs:{size:"small"}},[e._v(" "+e._s(t)+" ")])})),0)}}])}),s("el-table-column",{attrs:{label:"归属成员"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("div",{staticClass:"sucy"},[s("span",[s("span",[e._v(e._s(t.row.follow_name))]),e._v("--"),s("span",[e._v(e._s(t.row.follow_createtime))])]),s("span",[e._v("备注："+e._s(t.row.follow_remark))])])]}}])}),s("el-table-column",{attrs:{prop:"follow_status",label:"跟进状态",width:"180"}})],1)],1),s("div",{directives:[{name:"show",rawName:"v-show",value:0!==e.total,expression:"total !== 0"}],staticClass:"pagination"},[s("el-pagination",{attrs:{"current-page":e.page,"page-sizes":[10,20,50,100],"page-size":e.limit,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleLimitChange,"current-change":e.handlePageChange}})],1),s("el-dialog",{staticClass:"tagBialog",attrs:{width:"1000px",title:1==e.addtags?"增加标签":"移除标签",visible:e.addTag,"close-on-click-modal":!1,"destroy-on-close":!0},on:{"update:visible":function(t){e.addTag=t},close:function(){e.labelIdList=[],e.addtags="",e.disabledStores=[]}}},[s("div",{staticClass:"tabs-wrap scroll"},[1==e.addtags?s("el-form",{attrs:{"label-width":"100px"}},[e._l(e.customLabelList,(function(t,a){return[s("el-form-item",{key:a,staticStyle:{"margin-bottom":"15px"},attrs:{label:t.name}},e._l(t.group,(function(t,a){return s("el-button",{key:a,ref:t.id,refInFor:!0,staticClass:"btn-gray",staticStyle:{margin:"0 5px"},attrs:{size:"small",disabled:e.disabledStores.includes(t.id)},on:{click:function(a){return e.handlePickLabel(t.id)}}},[e._v(" "+e._s(t.name)+" ")])})),1)]}))],2):s("el-form",{attrs:{"label-width":"100px"}},[e._l(e.customLabelList,(function(t,a){return[s("el-form-item",{key:a,staticStyle:{"margin-bottom":"15px"},attrs:{label:t.name}},e._l(t.group,(function(t,a){return s("el-button",{key:a,ref:t.id,refInFor:!0,staticClass:"btn-gray",staticStyle:{margin:"0 5px"},attrs:{size:"small",disabled:!e.disabledStores.includes(t.id)},on:{click:function(a){return e.handlePickLabel(t.id)}}},[e._v(" "+e._s(t.name)+" ")])})),1)]}))],2)],1),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{staticClass:"btn-white",attrs:{size:"small"},on:{click:function(t){e.addTag=!1}}},[e._v("取 消")]),s("el-button",{staticClass:"btn-blue",attrs:{size:"small"},on:{click:e.handleSubmitTag}},[e._v("确 定")])],1)]),s("el-dialog",{attrs:{width:"600px",title:"新增标签",visible:e.addGroupFlag,"close-on-click-modal":!1},on:{"update:visible":function(t){e.addGroupFlag=t},close:function(t){return e.dialogColse("label")}}},[s("el-form",{ref:"label",attrs:{model:e.label,rules:e.labelRules}},[s("el-form-item",{attrs:{label:"选择分组","label-width":"100px",prop:"labelGroupId"}},[s("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.label.labelGroupId,callback:function(t){e.$set(e.label,"labelGroupId",t)},expression:"label.labelGroupId"}},e._l(e.groupData,(function(e){return s("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),s("el-form-item",{staticStyle:{"margin-bottom":"10px"},attrs:{label:"标签名称","label-width":"100px",prop:"labelValue"}},[s("el-input",{attrs:{placeholder:"请输入标签（不得超过15个字符）"},model:{value:e.label.labelValue,callback:function(t){e.$set(e.label,"labelValue",t)},expression:"label.labelValue"}})],1),s("el-form-item",{attrs:{label:"","label-width":"100px"}},[s("span",{staticStyle:{"font-size":"12px",color:"#999"}},[e._v("每个标签名称最多15个字，同时新建多个标签时，请用“空格” 隔开。")])])],1),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{staticClass:"btn-white",attrs:{size:"small"},on:{click:function(t){e.addGroupFlag=!1}}},[e._v("取 消")]),s("el-button",{staticClass:"btn-blue",attrs:{size:"small"},on:{click:e.handleSubmitLabel}},[e._v("确 定")])],1)],1)],1)},l=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("p",[a("span",{staticClass:"black"},[e._v("1、客户管理：提供成员客户统一管理、跟进、客户数据分析，有效管理、跟进客户")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("p",[a("span",{staticClass:"black"},[e._v("2、离职成员客户被继承后归属成员将显示最新归属成员")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("p",[a("span",{staticClass:"black"},[e._v("3、客户打标签上限为20")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("p",[a("span",{staticClass:"black"},[e._v("1、为了避免销售人员长时间沟通无果或是恶意保护占有客户资源，在其私有池里，当客户达到回收条件后，自动将该客户放回至【客户公海】--【非企微客户】列表。")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("p",[a("span",{staticClass:"black"},[e._v("2、当被其他员工认领后，再进入到该认领员工的私有池里，即【客户管理】--【非企微客户】列表。")])])}],n=(a("a623"),a("4de4"),a("c740"),a("4160"),a("d81d"),a("a434"),a("d3b7"),a("ac1f"),a("3ca3"),a("1276"),a("159b"),a("ddb0"),a("96cf"),a("1da1")),o=a("365c"),r=(a("21a6"),a("1146"),{data:function(){return{addtags:"",addGroupFlag:!1,label:{labelGroupId:"",labelValue:""},formInline:{labelGroupId:""},checkList:[],option:[],addTag:!1,checked:!0,showForm:!1,rules:{},showCourse:!1,page:1,limit:10,total:0,tableData:[],loading:!1,addDate:"",keyword:"",follow_remark_mobiles:"",gender:"",follow_add_way:"",follow_status:"",follow_userid:"",genderObj:null,wayObj:null,statusObj:null,staffList:[],groupData:[],tagGroup:[],group_code:"",selectData:[],labelRules:{labelValue:[{required:!0,message:"请输入标签名称",trigger:"blur"}],labelGroupName:[{required:!0,message:"请输入标签组名称",trigger:"blur"}]},actual_num:0,all_num:0,disabledStores:[],tagGroup2:[],customLabelList:[],customLabelListLength:0,labelIdList:[]}},watch:{showForm:function(e){this.reset()}},mounted:function(){var e=this;this.getData(),this.getGroup(),this.$bus.$on("update",(function(){e.getData()})),window.onresize=function(){}},methods:{handlePickLabel:function(e){var t=this.$refs[e][0].$el;t.classList.toggle("btn-blue")?this.labelIdList.length<20?this.labelIdList.push(e):(t.classList.remove("btn-blue"),this.$message.warning("客户标签最多设置20个")):this.labelIdList.splice(this.labelIdList.findIndex((function(t){return t===e})),1),console.log(this.labelIdList)},handleSubmitTag:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a,s,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(1!=e.addtags){t.next=13;break}if(!(e.labelIdList.length>0)){t.next=10;break}return a=[],e.selectData.map((function(e){a.push(e.id)})),t.next=6,Object(o["r"])({id:a,tag_ids:e.labelIdList,type:1});case 6:s=t.sent,200==s.code&&(e.$message({type:"success",message:"操作成功"}),e.addTag=!1,e.reqGetCustomList()),t.next=11;break;case 10:e.$message.error("请选择标签后进行操作");case 11:t.next=23;break;case 13:if(!(e.labelIdList.length>0)){t.next=22;break}return a=[],e.selectData.map((function(e){a.push(e.id)})),t.next=18,Object(o["r"])({id:a,tag_ids:e.labelIdList,type:2});case 18:l=t.sent,200==l.code&&(e.$message({type:"success",message:"操作成功"}),e.addTag=!1,e.reqGetCustomList(),200==l.code&&(e.$message({type:"success",message:"操作成功"}),e.addTag=!1,e.reqGetCustomList())),t.next=23;break;case 22:e.$message.error("请选择标签后进行操作");case 23:case"end":return t.stop()}}),t)})))()},exportExcel:function(){var e=this;a.e("chunk-3720216a").then(function(){var t=a("376b"),s=t.export_json_to_excel,l=["客户名","所在群","来源","标签","归属成员","归属时间","备注","跟进状态"],n=["name","0","follow_add_way","tag_ids","follow_name","follow_createtime","follow_remark","address"],o=e.selectData,r=e.formatJson(n,o);s(l,r,"列表excel")}.bind(null,a)).catch(a.oe)},formatJson:function(e,t){return t.map((function(t){return e.map((function(e){return t[e]}))}))},getGroup:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(o["T"])({});case 2:a=t.sent,200==a.code&&(e.groupData=JSON.parse(JSON.stringify(a.data)),e.reqGetCustomTag());case 4:case"end":return t.stop()}}),t)})))()},groupChange:function(e){var t=this;this.group_code=this.groupData.filter((function(e){return e.id==t.formInline.labelGroupId}))[0].code,this.reqGetCustomTag()},reqGetCustomTag:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(o["S"])({code:e.group_code,limit:1e3,page:1});case 2:a=t.sent,200==a.code&&(e.tagGroup=a.data);case 4:case"end":return t.stop()}}),t)})))()},handleSubmitLabel:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$refs.label.validate((function(t){if(t){var a=[],s=!0;a=e.label.labelValue.split(" "),a=a.filter((function(e){return 0!=e})),s=a.every((function(e){return e.length<=15})),s?(a.map((function(e,t){a[t]={name:e}})),e.reqAddCustomLabel({group_id:e.label.labelGroupId,tag:a})):e.$message.error("请选择标签后进行操作")}}));case 1:case"end":return t.stop()}}),t)})))()},reqAddCustomLabel:function(e){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(o["s"])(e);case 2:s=a.sent,200===s.code?(t.$message({type:"success",message:"新增成功"}),t.addGroupFlag=!1,t.reqGetCustomTag()):t.$message.error(s.msg);case 4:case"end":return a.stop()}}),a)})))()},lookRepeat:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(o["rb"])({keyword:e.keyword,gender:e.gender,follow_userid:e.follow_userid,start_time:e.addDate?e.addDate[0]:"",end_time:e.addDate?e.addDate[1]:"",page:e.page,limit:e.limit});case 2:a=t.sent,200==a.code&&(e.tableData=a.data,e.total=a.count);case 4:case"end":return t.stop()}}),t)})))()},removeTag:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a,s,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=[],e.selectData.map((function(e){a.push(e.id)})),t.next=4,Object(o["Db"])({id:a,type:2});case 4:s=t.sent,200==s.code&&(e.checkList=s.data,a=[],s.data.length>0&&(l=JSON.parse(JSON.stringify(s)),e.labelIdList=l.data,e.disabledStores=Object.assign([],l.data),console.log(e.labelIdList),e.labelIdList.forEach((function(t){setTimeout((function(){e.$refs[t][0].$el.classList.add("btn-blue")}),0)}))),e.addTag=!0);case 6:case"end":return t.stop()}}),t)})))()},Tagging:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a,s,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(e.selectData.length>0)){t.next=9;break}return a=[],e.selectData.map((function(e){a.push(e.id)})),t.next=5,Object(o["Db"])({id:a,type:1});case 5:s=t.sent,200==s.code&&(l=JSON.parse(JSON.stringify(s)),e.labelIdList=l.data,e.disabledStores=Object.assign([],l.data),e.labelIdList.forEach((function(t){setTimeout((function(){e.$refs[t][0].$el.classList.add("btn-blue")}),0)})),e.addTag=!0,e.addtags=1),t.next=10;break;case 9:e.$message.error("请先选择数据");case 10:case"end":return t.stop()}}),t)})))()},getData:function(){var e=this;this.loading=!0;var t=[];t[0]=Object(o["R"])({page:this.page,limit:this.limit,keyword:this.keyword,follow_remark_mobiles:this.follow_remark_mobiles,gender:this.gender,follow_add_way:this.follow_add_way,follow_status:this.follow_status,follow_userid:this.follow_userid,start_time:this.addDate?this.addDate[0]:"",end_time:this.addDate?this.addDate[1]:""}),t[1]=Object(o["ub"])({}),t[2]=Object(o["cb"])({page:1,limit:1e4}),t[3]=Object(o["U"])({}),Promise.all(t).then((function(t){e.loading=!1,200==t[0].code?(e.total=t[0].count,e.tableData=t[0].data):e.tableData=[],200===t[1].code?(e.genderObj=t[1].data.gender,e.wayObj=t[1].data.follow_add_way,e.statusObj=t[1].data.follow_status,e.all_num=t[1].data.all_num,e.actual_num=t[1].data.actual_num):(e.$message.error(t[1].msg),e.genderObj={},e.wayObj={},e.statusObj={}),200===t[2].code?e.staffList=t[2].data:(e.$message.error(t[2].msg),e.staffList=[]),200==t[3].code?(e.customLabelList=t[3].data,e.customLabelListLength=t[3].data.length):(e.customLabelList=[],e.customLabelListLength=0)}))},reqGetCustomList:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,Object(o["R"])({page:e.page,limit:e.limit,keyword:e.keyword,follow_remark_mobiles:e.follow_remark_mobiles,gender:e.gender,follow_add_way:e.follow_add_way,follow_status:e.follow_status,follow_userid:e.follow_userid,start_time:e.addDate?e.addDate[0]:"",end_time:e.addDate?e.addDate[1]:""});case 3:a=t.sent,200==a.code?(e.total=a.count,e.tableData=a.data):e.tableData=[],e.loading=!1;case 6:case"end":return t.stop()}}),t)})))()},reset:function(){this.addDate="",this.keyword="",this.follow_remark_mobiles="",this.gender="",this.follow_add_way="",this.follow_status="",this.follow_userid=""},handleClear:function(){this.reset(),this.reqGetCustomList()},handleCheckTabs:function(e){this.checked=e},handleSelectionChange:function(e){this.selectData=e},handleLimitChange:function(e){this.limit=e,this.reqGetCustomList()},handlePageChange:function(e){this.page=e,this.reqGetCustomList()},dialogColse:function(e){this.$refs[e].resetFields(),this.tagGroup2=[],"label"!=e&&(this.addtags="")}}}),i=r,c=(a("2e68"),a("2877")),d=Object(c["a"])(i,s,l,!1,null,"dcbf3542",null);t["default"]=d.exports}}]);
//# sourceMappingURL=chunk-4d4b8695.79568009.js.map