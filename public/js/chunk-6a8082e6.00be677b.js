(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6a8082e6","chunk-0c0d423a"],{3842:function(e,t,a){"use strict";a("76eb")},"55e7":function(e,t,a){"use strict";a("595d")},"595d":function(e,t,a){},"5d2b":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"public-header"},[a("el-header",{staticStyle:{height:"54px","font-size":"20px"}},[a("div",{staticClass:"logo"},[a("logo-svg"),a("span",{staticClass:"icon-su"}),a("span",{staticClass:"text-title"},[e._v("让生意更简单")])],1)])],1)},i=[],r={name:"Header",data:function(){return{}}},l=r,n=(a("3842"),a("2877")),o=Object(n["a"])(l,s,i,!1,null,"59acb7f9",null);t["default"]=o.exports},"76eb":function(e,t,a){},a623:function(e,t,a){"use strict";var s=a("23e7"),i=a("b727").every,r=a("a640"),l=a("ae40"),n=r("every"),o=l("every");s({target:"Array",proto:!0,forced:!n||!o},{every:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},da08:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"install"},[s("Header"),s("span",{staticClass:"titles"},[e._v("欢迎使用唤客猫企业微信SCRM系统")]),s("div",{staticClass:"steps"},[s("span",{class:1==e.active?"circle active":"circle active el-icon-check"},[e._v(e._s(1==e.active?"1":""))]),s("span",{staticClass:"text"},[e._v("许可协议")]),s("span",{class:1==e.active?"line":"line active"}),s("span",{class:1==e.active?"circle":2==e.active?"circle active":"circle active el-icon-check"},[e._v(e._s(e.active>2?"":"2"))]),s("span",{staticClass:"text"},[e._v("检查环境")]),s("span",{class:e.active<=2?"line":"line active"}),s("span",{class:e.active<3?"circle":3==e.active?"circle active":"circle active el-icon-check"},[e._v(e._s(e.active>3?"":"3"))]),s("span",{staticClass:"text"},[e._v("配置系统")]),s("span",{class:e.active<4?"line":"line active"}),s("span",{class:e.active<4?"circle":"circle active"},[e._v("4")]),s("span",{staticClass:"text"},[e._v("安装完成")])]),1===e.active?[e._m(0),s("div",{staticClass:"footer"},[s("el-checkbox",{model:{value:e.readFlag,callback:function(t){e.readFlag=t},expression:"readFlag"}},[e._v("我已仔细阅读，并同意以上协议中规定的内容")]),s("el-button",{staticClass:"btn-blue right",attrs:{size:"small",disabled:!e.readFlag},on:{click:function(t){return e.handleNext(1)}}},[e._v("下一步")])],1)]:2===e.active?[s("div",{staticClass:"content-wrap"},[s("span",{staticClass:"border"}),s("div",{staticClass:"content"},[s("div",{staticClass:"wrap"},[s("div",{staticClass:"fonts"},[e._m(1),s("el-table",{staticStyle:{width:"100%"},attrs:{data:e.serverData,border:!0,"row-style":{height:"30px"},"cell-style":{padding:"0"},"header-cell-style":{color:"#333",fontSize:"14px",backgroundColor:"#F6F7FB",fontWeight:"normal",padding:"0"},"header-row-style":{height:"32px"}}},[s("el-table-column",{attrs:{prop:"option",label:"参数",width:"300"}}),s("el-table-column",{attrs:{prop:"value",label:"值",width:"400"}}),s("el-table-column",{attrs:{label:"状态"},scopedSlots:e._u([{key:"default",fn:function(e){return[s("i",{directives:[{name:"show",rawName:"v-show",value:e.row.loading,expression:"scope.row.loading"}],staticClass:"el-icon-loading"}),s("i",{directives:[{name:"show",rawName:"v-show",value:1===e.row.state&&!e.row.loading,expression:"scope.row.state === 1 && !scope.row.loading"}],staticClass:"el-icon-success success fs16"}),s("i",{directives:[{name:"show",rawName:"v-show",value:1!==e.row.state&&!e.row.loading,expression:"scope.row.state !== 1 && !scope.row.loading"}],staticClass:"el-icon-error error fs16"})]}}])})],1),e._m(2),s("div",{directives:[{name:"show",rawName:"v-show",value:!e.firstFlag&&e.firstShow,expression:"!firstFlag && firstShow"}],staticClass:"info"},[e._v(" PHP环境要求必须满足下列所有条件，否则系统或系统部分功能将无法使用。 ")]),s("el-table",{staticStyle:{width:"100%"},attrs:{data:e.phpData,border:!0,"row-style":{height:"30px"},"cell-style":{padding:"0"},"header-cell-style":{color:"#333",fontSize:"14px",backgroundColor:"#F6F7FB",fontWeight:"normal",padding:"0"},"header-row-style":{height:"32px"}}},[s("el-table-column",{attrs:{prop:"option",label:"选项",width:"300"}}),s("el-table-column",{attrs:{prop:"require",label:"要求",width:"400"}}),s("el-table-column",{attrs:{label:"状态"},scopedSlots:e._u([{key:"default",fn:function(e){return[s("i",{directives:[{name:"show",rawName:"v-show",value:e.row.loading,expression:"scope.row.loading"}],staticClass:"el-icon-loading"}),s("i",{directives:[{name:"show",rawName:"v-show",value:1===e.row.state&&!e.row.loading,expression:"scope.row.state === 1 && !scope.row.loading"}],staticClass:"el-icon-success success fs16"}),s("i",{directives:[{name:"show",rawName:"v-show",value:1!==e.row.state&&!e.row.loading,expression:"scope.row.state !== 1 && !scope.row.loading"}],staticClass:"el-icon-error error fs16"})]}}])}),s("el-table-column",{attrs:{label:"帮助与说明"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(1==t.row.state?"":t.row.state))]}}])})],1),e._m(3),s("div",{directives:[{name:"show",rawName:"v-show",value:!e.lastFlag&&e.lastShow,expression:"!lastFlag && lastShow"}],staticClass:"info"},[e._v(" 系统要求huankemao开源系统安装目录下的runtime和uploads必须可写，才能使用huankemao开源版本所有功能 ")]),s("el-table",{staticStyle:{width:"100%"},attrs:{data:e.directoryData,border:!0,"row-style":{height:"30px"},"cell-style":{padding:"0"},"header-cell-style":{color:"#333",fontSize:"14px",backgroundColor:"#F6F7FB",fontWeight:"normal",padding:"0"},"header-row-style":{height:"32px"}}},[s("el-table-column",{attrs:{prop:"option",label:"目录",width:"300"}}),s("el-table-column",{attrs:{prop:"require",label:"要求",width:"400"}}),s("el-table-column",{attrs:{label:"状态"},scopedSlots:e._u([{key:"default",fn:function(e){return[s("i",{directives:[{name:"show",rawName:"v-show",value:e.row.loading,expression:"scope.row.loading"}],staticClass:"el-icon-loading"}),s("i",{directives:[{name:"show",rawName:"v-show",value:1===e.row.state&&!e.row.loading,expression:"scope.row.state === 1 && !scope.row.loading"}],staticClass:"el-icon-success success fs16"}),s("i",{directives:[{name:"show",rawName:"v-show",value:1!==e.row.state&&!e.row.loading,expression:"scope.row.state !== 1 && !scope.row.loading"}],staticClass:"el-icon-error error fs16"})]}}])}),s("el-table-column",{attrs:{label:"帮助与说明"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(1==t.row.state?"":t.row.state))]}}])})],1)],1)])])]),s("div",{staticClass:"footer"},[e.nextFlag?e.nextFlag&&e.success?s("span",{staticClass:"fontStyle"},[s("i",{staticClass:"el-icon-success success fs16",staticStyle:{"margin-right":"10px"}}),e._v("运行环境正常")]):e.nextFlag&&!e.success?s("span",{staticClass:"fontStyle"},[s("i",{staticClass:"el-icon-error error fs16",staticStyle:{"margin-right":"10px"}}),e._v("检测异常，请按照要求配置后重新检测")]):e._e():s("span",{staticClass:"fontStyle"},[s("i",{staticClass:"el-icon-loading fs16",staticStyle:{"margin-right":"10px"}}),e._v("运行环境检测中...")]),s("el-button",{staticClass:"btn-white right",attrs:{size:"small"},on:{click:e.handlePrev}},[e._v("上一步")]),s("el-button",{staticClass:"btn-blue",attrs:{size:"small"},on:{click:e.reqEnvironment}},[e._v("重新检测")]),s("el-button",{staticClass:"btn-blue",attrs:{size:"small",disabled:!(e.firstFlag&&e.nextFlag&&e.lastFlag&&e.success)},on:{click:function(t){return e.handleNext(2)}}},[e._v("下一步")])],1)]:3===e.active?[s("div",{staticClass:"content-wrap"},[s("span",{staticClass:"border"}),s("div",{staticClass:"content"},[s("div",{ref:"wrap",staticClass:"wrap"},[s("div",{ref:"fonts",staticClass:"fonts"},[e._m(4),s("el-form",{ref:"form1",staticStyle:{"margin-top":"10px"},attrs:{"label-position":"left","label-width":"220px",model:e.form,rules:e.rules}},[s("el-form-item",{attrs:{label:"数据库主机",prop:"host"}},[s("el-input",{attrs:{size:"small"},model:{value:e.form.host,callback:function(t){e.$set(e.form,"host",t)},expression:"form.host"}})],1),s("el-form-item",{attrs:{label:"端口号",prop:"port"}},[s("el-input",{attrs:{size:"small"},model:{value:e.form.port,callback:function(t){e.$set(e.form,"port",t)},expression:"form.port"}})],1),s("el-form-item",{attrs:{label:"用户名",prop:"user"}},[s("el-input",{attrs:{size:"small"},model:{value:e.form.user,callback:function(t){e.$set(e.form,"user",t)},expression:"form.user"}})],1),s("el-form-item",{attrs:{label:"密码",prop:"pas"}},[s("el-input",{attrs:{type:"password",size:"small"},model:{value:e.form.pas,callback:function(t){e.$set(e.form,"pas",t)},expression:"form.pas"}})],1),s("el-form-item",{staticClass:"flex",attrs:{label:"数据库名",prop:"database"}},[s("el-input",{style:{width:e.width},attrs:{size:"small"},model:{value:e.form.database,callback:function(t){e.$set(e.form,"database",t)},expression:"form.database"}}),s("el-button",{staticClass:"btn-white",staticStyle:{"margin-left":"10px"},attrs:{size:"small"},on:{click:e.handle}},[e._v("连通测试 "),0===e.iconFlag?s("i",{staticClass:"el-icon-success success"}):1===e.iconFlag?s("i",{staticClass:"el-icon-error error"}):e._e()])],1),s("el-form-item",{attrs:{label:"表前缀",prop:"prefix"}},[s("el-input",{attrs:{size:"small"},model:{value:e.form.prefix,callback:function(t){e.$set(e.form,"prefix",t)},expression:"form.prefix"}})],1),s("el-form-item",{attrs:{label:"安装测试数据"}},[s("el-checkbox",{model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}})],1)],1),e._m(5),s("el-form",{ref:"form2",staticStyle:{"margin-top":"10px"},attrs:{"label-position":"left","label-width":"220px",model:e.form,rules:e.rules}},[s("el-form-item",{attrs:{label:"管理员手机号",prop:"phone"}},[s("el-input",{attrs:{size:"small"},model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}})],1),s("el-form-item",{attrs:{label:"登录密码",prop:"password"}},[s("el-input",{attrs:{type:"password",size:"small",maxlength:"20"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),s("el-form-item",{attrs:{label:"密码强度",required:""}},[s("el-progress",{staticStyle:{width:"660px","line-height":"40px"},attrs:{percentage:e.percentage,color:e.bg_color,format:e.format}})],1)],1),s("div",{staticStyle:{margin:"20px 0 0 20px"}},[s("el-checkbox",{model:{value:e.configFlag,callback:function(t){e.configFlag=t},expression:"configFlag"}},[e._v("企业微信配置")])],1),s("div",{directives:[{name:"show",rawName:"v-show",value:e.configFlag,expression:"configFlag"}],staticClass:"title-header"},[s("span",{staticClass:"icon"}),s("span",[e._v("企业微信配置")])]),s("el-form",{directives:[{name:"show",rawName:"v-show",value:e.configFlag,expression:"configFlag"}],ref:"form3",staticStyle:{"margin-top":"10px"},attrs:{"label-position":"left","label-width":"220px",model:e.form,rules:e.rules}},[s("el-form-item",{attrs:{label:"企业ID",prop:"wxk_id"}},[s("el-input",{attrs:{size:"small"},on:{blur:e.handleIdBlur},model:{value:e.form.wxk_id,callback:function(t){e.$set(e.form,"wxk_id",t)},expression:"form.wxk_id"}}),s("img",{staticStyle:{"margin-left":"10px",cursor:"pointer"},attrs:{src:a("dfdd"),width:"14px",alt:""},on:{click:function(t){return e.handleHelp(1)}}})],1),s("el-form-item",{attrs:{label:"通讯录Secret",prop:"wxk_address_book_secret"}},[s("el-input",{attrs:{size:"small"},model:{value:e.form.wxk_address_book_secret,callback:function(t){e.$set(e.form,"wxk_address_book_secret",t)},expression:"form.wxk_address_book_secret"}}),s("img",{staticStyle:{"margin-left":"10px",cursor:"pointer"},attrs:{src:a("dfdd"),width:"14px",alt:""},on:{click:function(t){return e.handleHelp(2)}}})],1),s("el-form-item",{attrs:{label:"客户管理Secret",prop:"wxk_customer_admin_secret"}},[s("el-input",{attrs:{size:"small"},model:{value:e.form.wxk_customer_admin_secret,callback:function(t){e.$set(e.form,"wxk_customer_admin_secret",t)},expression:"form.wxk_customer_admin_secret"}}),s("img",{staticStyle:{"margin-left":"10px",cursor:"pointer"},attrs:{src:a("dfdd"),width:"14px",alt:""},on:{click:function(t){return e.handleHelp(3)}}})],1),s("el-form-item",{attrs:{label:"客户管理回调URL",prop:"wxk_customer_callback_url"}},[s("el-input",{staticStyle:{width:"540px"},attrs:{disabled:"",size:"small"},model:{value:e.form.wxk_customer_callback_url,callback:function(t){e.$set(e.form,"wxk_customer_callback_url",t)},expression:"form.wxk_customer_callback_url"}}),s("el-button",{staticClass:"btn-white copy-url-btn",staticStyle:{"margin-left":"10px"},attrs:{size:"small"},on:{click:function(t){return e.handleCopy(t,e.form.wxk_customer_callback_url)}}},[e._v("一键复制")]),s("img",{staticStyle:{"margin-left":"10px",cursor:"pointer"},attrs:{src:a("dfdd"),width:"14px",alt:""},on:{click:function(t){return e.handleHelp(4)}}})],1),s("el-form-item",{attrs:{label:"客户管理回调Token",prop:"wxk_customer_callback_token"}},[s("el-input",{staticStyle:{width:"450px"},attrs:{size:"small"},on:{blur:e.handleTokenBlur},model:{value:e.form.wxk_customer_callback_token,callback:function(t){e.$set(e.form,"wxk_customer_callback_token",t)},expression:"form.wxk_customer_callback_token"}}),s("el-button",{staticClass:"btn-white",staticStyle:{"margin-left":"10px"},attrs:{size:"small"},on:{click:function(t){return e.handleRandom("token")}}},[e._v("随机生成")]),s("el-button",{staticClass:"btn-white copy-url-btn",staticStyle:{"margin-left":"10px"},attrs:{size:"small"},on:{click:function(t){return e.handleCopy(t,e.form.wxk_customer_callback_token)}}},[e._v("一键复制")]),s("img",{staticStyle:{"margin-left":"10px",cursor:"pointer"},attrs:{src:a("dfdd"),width:"14px",alt:""},on:{click:function(t){return e.handleHelp(5)}}})],1),s("el-form-item",{attrs:{label:"客户管理回调EncodingAESKey",prop:"wxk_customer_callback_key"}},[s("el-input",{staticStyle:{width:"450px"},attrs:{size:"small"},on:{blur:e.handleKeyBlur},model:{value:e.form.wxk_customer_callback_key,callback:function(t){e.$set(e.form,"wxk_customer_callback_key",t)},expression:"form.wxk_customer_callback_key"}}),s("el-button",{staticClass:"btn-white",staticStyle:{"margin-left":"10px"},attrs:{size:"small"},on:{click:function(t){return e.handleRandom("key")}}},[e._v("随机生成")]),s("el-button",{staticClass:"btn-white copy-url-btn",staticStyle:{"margin-left":"10px"},attrs:{size:"small"},on:{click:function(t){return e.handleCopy(t,e.form.wxk_customer_callback_key)}}},[e._v("一键复制")]),s("img",{staticStyle:{"margin-left":"10px",cursor:"pointer"},attrs:{src:a("dfdd"),width:"14px",alt:""},on:{click:function(t){return e.handleHelp(6)}}})],1),s("div",{staticClass:"title-header"},[s("span",{staticClass:"icon"}),s("span",[e._v("企业微信自建应用配置")])]),s("el-form",{ref:"form4",staticStyle:{"margin-top":"10px"},attrs:{"label-position":"left","label-width":"220px",model:e.form,rules:e.rules}},[s("el-form-item",{attrs:{label:"自建应用AgentID",prop:"wxk_app_agent_id"}},[s("el-input",{attrs:{size:"small"},model:{value:e.form.wxk_app_agent_id,callback:function(t){e.$set(e.form,"wxk_app_agent_id",t)},expression:"form.wxk_app_agent_id"}}),s("img",{staticStyle:{"margin-left":"10px",cursor:"pointer"},attrs:{src:a("dfdd"),width:"14px",alt:""},on:{click:function(t){return e.handleHelp(8)}}})],1),s("el-form-item",{attrs:{label:"自建应用Secret",prop:"wxk_app_secret"}},[s("el-input",{attrs:{size:"small"},model:{value:e.form.wxk_app_secret,callback:function(t){e.$set(e.form,"wxk_app_secret",t)},expression:"form.wxk_app_secret"}}),s("img",{staticStyle:{"margin-left":"10px",cursor:"pointer"},attrs:{src:a("dfdd"),width:"14px",alt:""},on:{click:function(t){return e.handleHelp(9)}}})],1),s("el-form-item",{attrs:{label:"授权登录回调域"}},[s("el-input",{staticStyle:{width:"540px"},attrs:{disabled:"",size:"small"},model:{value:e.domain,callback:function(t){e.domain=t},expression:"domain"}}),s("el-button",{staticClass:"btn-white copy-url-btn",staticStyle:{"margin-left":"10px"},attrs:{size:"small"},on:{click:function(t){return e.handleCopy(t,e.domain)}}},[e._v("一键复制")]),s("img",{staticStyle:{"margin-left":"10px",cursor:"pointer"},attrs:{src:a("dfdd"),width:"14px",alt:""},on:{click:function(t){return e.handleHelp(10)}}})],1),s("el-form-item",{attrs:{label:"下载应用Logo"}},[s("div",{staticClass:"download"},[s("img",{attrs:{src:a("9d64"),width:"75",alt:""}}),s("el-button",{staticClass:"btn-blue",attrs:{size:"small"},on:{click:function(){e.downloadIamge()}}},[e._v("点击下载")])],1)])],1)],1),s("div",{directives:[{name:"show",rawName:"v-show",value:!e.publicFlag,expression:"!publicFlag"}],staticStyle:{margin:"20px 0 100px 20px"}},[s("el-checkbox",{model:{value:e.publicFlag,callback:function(t){e.publicFlag=t},expression:"publicFlag"}},[e._v("公众号配置")])],1),s("div",{directives:[{name:"show",rawName:"v-show",value:e.publicFlag,expression:"publicFlag"}],staticStyle:{margin:"20px 0 0 20px"}},[s("el-checkbox",{model:{value:e.publicFlag,callback:function(t){e.publicFlag=t},expression:"publicFlag"}},[e._v("公众号配置")])],1),s("div",{directives:[{name:"show",rawName:"v-show",value:e.publicFlag,expression:"publicFlag"}],staticClass:"title-header"},[s("span",{staticClass:"icon"}),s("span",[e._v("公众号配置")])]),s("el-form",{directives:[{name:"show",rawName:"v-show",value:e.publicFlag,expression:"publicFlag"}],ref:"form5",staticStyle:{"margin-top":"10px"},attrs:{"label-position":"left","label-width":"220px",model:e.form,rules:e.rules}},[s("el-form-item",{attrs:{label:"Appid",prop:"wxk_public_app_id"}},[s("el-input",{attrs:{size:"small"},model:{value:e.form.wxk_public_app_id,callback:function(t){e.$set(e.form,"wxk_public_app_id",t)},expression:"form.wxk_public_app_id"}}),s("img",{staticStyle:{"margin-left":"10px",cursor:"pointer"},attrs:{src:a("dfdd"),width:"14px",alt:""},on:{click:function(t){return e.handleHelp(11)}}})],1),s("el-form-item",{attrs:{label:"AppSecret",prop:"wxk_public_app_secret"}},[s("el-input",{attrs:{size:"small"},model:{value:e.form.wxk_public_app_secret,callback:function(t){e.$set(e.form,"wxk_public_app_secret",t)},expression:"form.wxk_public_app_secret"}}),s("img",{staticStyle:{"margin-left":"10px",cursor:"pointer"},attrs:{src:a("dfdd"),width:"14px",alt:""},on:{click:function(t){return e.handleHelp(12)}}})],1)],1)],1)])])]),s("div",{staticClass:"footer"},[s("el-button",{staticClass:"btn-white right",attrs:{size:"small"},on:{click:e.handlePrev}},[e._v("上一步")]),s("el-button",{staticClass:"btn-blue",attrs:{size:"small"},on:{click:function(t){return e.handleNext(3)}}},[e._v("完成配置")])],1)]:4===e.active?[s("div",{staticClass:"content-main"},[s("div",{attrs:{id:"footer"}}),s("remote-js",{attrs:{src:"https://cdn.wulabh.com/ptsc/1.0.0/ptsc.min.js"}}),s("remote-js",{attrs:{src:"https://cdn.wulabh.com/jquery/2.1.4/jquery.min.js"}}),s("span",{staticClass:"font1"},[e._v("您已安装完成，安装程序已被锁定")]),s("span",{staticClass:"font2"},[e._v("如需重新安装，请删除应用根目录下install/install.lock")]),s("span",{staticClass:"font3"},[e._v(e._s(e.time)+"秒后自动跳转，"),s("span",{staticClass:"font4",on:{click:e.handleLogin}},[e._v("立即跳转")])])],1)]:e._e(),s("span",{staticClass:"copyright"},[e._v("COPYRIGHT ©唤客猫 2020-2021 All RIGHTS RESERVED. ")]),s("div",{directives:[{name:"show",rawName:"v-show",value:e.alertVisible,expression:"alertVisible"}],staticClass:"alert"},[s("div",{staticClass:"alert-main"},[s("i",{staticClass:"el-icon-error error fs30"}),s("p",[e._v(" "+e._s(e.alertMessage)+" ")]),s("el-button",{staticClass:"btn-white",attrs:{size:"small"},on:{click:function(){e.alertVisible=!1,e.iconFlag=1}}},[e._v("关闭")])],1)]),s("div",{directives:[{name:"show",rawName:"v-show",value:e.confirmVisible,expression:"confirmVisible"}],staticClass:"alert"},[s("div",{staticClass:"alert-main"},[s("i",{staticClass:"el-icon-warning warn fs30"}),s("p",[e._v("检测到数据库有数据存在，是否覆盖？")]),s("div",[s("el-button",{staticClass:"btn-white",attrs:{size:"small"},on:{click:function(){e.confirmVisible=!1}}},[e._v("取消")]),s("el-button",{staticClass:"btn-white",attrs:{size:"small"},on:{click:function(){e.confirmVisible=!1,e.form.is_cover=0,e.reqInstall()}}},[e._v("不覆盖")]),s("el-button",{staticClass:"btn-blue",attrs:{size:"small"},on:{click:function(){e.confirmVisible=!1,e.form.is_cover=1,e.reqInstall()}}},[e._v("覆盖")])],1)])]),s("div",{directives:[{name:"show",rawName:"v-show",value:e.initVisible,expression:"initVisible"}],staticClass:"alert"},[s("div",{staticClass:"alert-main"},[s("i",{directives:[{name:"show",rawName:"v-show",value:""===e.initFlag,expression:"initFlag === ''"}],staticClass:"el-icon-loading fs30"}),s("i",{directives:[{name:"show",rawName:"v-show",value:0===e.initFlag,expression:"initFlag === 0"}],staticClass:"el-icon-success success fs30"}),s("i",{directives:[{name:"show",rawName:"v-show",value:1===e.initFlag,expression:"initFlag === 1"}],staticClass:"el-icon-error error fs30"}),s("p",{staticStyle:{height:"60px"}},[""===e.initFlag?s("span",[e._v("项目初始化同步...")]):0===e.initFlag?s("span",[e._v("项目初始化同步成功 ")]):1===e.initFlag?s("span",[e._v("项目初始化同步失败 ")]):e._e()]),s("el-button",{directives:[{name:"show",rawName:"v-show",value:1===e.initFlag,expression:"initFlag === 1"}],staticClass:"btn-white",attrs:{size:"small"},on:{click:function(){e.initVisible=!1,e.initFlag=""}}},[e._v("关闭")])],1)])],2)},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"content-wrap"},[a("span",{staticClass:"border"}),a("div",{staticClass:"content"},[a("div",{staticClass:"wrap"},[a("span",{staticClass:"c-title"},[e._v("《唤客猫企业微信SCRM系统》开源许可协议")]),a("div",{staticClass:"fonts"},[a("h2",[e._v("中文版授权协议 适用于中文用户")]),a("h2",[e._v("版权所有 ：© 2020-2021 成都唤客猫科技有限公司（以下简称唤客猫公司）保留所有权利。")]),a("p",{staticClass:"font-style"},[e._v(" 感谢您选择唤客猫产品。希望我们的努力能为您提供一个高效、快速、强大的SCRM解决方案。唤客猫公司网址为https://huankemao.com 。 ")]),a("h2",[e._v("用户须知：")]),a("p",{staticClass:"font-style"},[e._v(" 本协议是您与唤客猫公司之间关于您使用唤客猫公司提供的各种软件产品及服务的法律协议。无论您是个人或组织、盈利与否、用途如何（包括以学习和研究为目的），均需仔细阅读本协议，包括免除或者限制唤客猫责任的免责条款及对您的权利限制。请您审阅并接受或不接受本服务条款。如您不同意本服务条款及/或唤客猫随时对其的修改，您应不使用或主动取消唤客猫公司提供的唤客猫产品。否则，您的任何对唤客猫产品中的相关服务的注册、登陆、下载、查看等使用行为将被视为您对本服务条款全部的完全接受，包括接受唤客猫对服务条款随时所做的任何修改。 ")]),a("p",{staticClass:"font-style"},[e._v(" 本服务条款一旦发生变更, 唤客猫将在网页上公布修改内容。修改后的服务条款一旦在网站管理后台上公布即有效代替原来的服务条款。您可随时登陆唤客猫官方网站查阅最新版服务条款。如果您选择接受本条款，即表示您同意接受协议各项条件的约束。如果您不同意本服务条款，则不能获得使用本服务的权利。您若有违反本条款规定，唤客猫公司有权随时中止或终止您对唤客猫产品的使用资格并保留追究相关法律责任的权利。 ")]),a("p",{staticClass:"font-style"},[e._v(" 在理解、同意、并遵守本协议的全部条款后，方可开始使用唤客猫产品。您可能与唤客猫公司直接签订另一书面协议，以补充或者取代本协议的全部或者任何部分。 ")]),a("p",{staticClass:"font-style"},[e._v(" 唤客猫拥有本软件的全部知识产权。本软件只供许可协议，并非出售。唤客猫只允许您在遵守本协议各项条款的情况下复制、下载、安装、使用或者以其他方式受益于本软件的功能或者知识产权。 ")]),a("h2",[e._v("一、协议许可的权利")]),a("p",{staticClass:"font-style"},[e._v(" 1. 您可以在完全遵守本许可协议的基础上，将本软件应用于非商业用途，而不必支付软件版权许可费用。 ")]),a("p",{staticClass:"font-style"},[e._v(" 2. 您可以在协议规定的约束和限制范围内修改唤客猫产品源代码(如果被提供的话)或界面风格以适应您的网站要求。 ")]),a("p",{staticClass:"font-style"},[e._v(" 3. 您拥有使用本软件构建的网站中全部会员资料、文章及相关信息的所有权，并独立承担与使用本软件构建的网站内容的审核、注意义务，确保其不侵犯任何人的合法权益，独立承担因使用唤客猫软件和服务带来的全部责任，若造成唤客猫公司或用户损失的，您应予以全部赔偿。 ")]),a("p",{staticClass:"font-style"},[e._v(" 4. 若您需将唤客猫软件或服务用于商业用途，必须另行获得唤客猫的书面许可，您在获得商业授权之后，您可以将本软件应用于商业用途，同时依据所购买的授权类型中确定的技术支持期限、技术支持方式和技术支持内容，自购买时刻起，在技术支持期限内拥有通过指定的方式获得指定范围内的技术支持服务。商业授权用户享有反映和提出意见的权力，相关意见将被作为首要考虑，但没有一定被采纳的承诺或保证。 ")]),a("p",{staticClass:"font-style"},[e._v(" 5. 您可以从唤客猫提供的应用中心服务中下载适合您网站的应用程序，但应向应用程序开发者/所有者支付相应的费用。 ")]),a("h2",[e._v("二、协议规定的约束和限制")]),a("p",{staticClass:"font-style"},[e._v(" 1. 未获唤客猫公司书面商业授权之前，不得将本软件用于商业用途（包括但不限于企业网站、经营性网站、以营利为目或实现盈利的网站）。购买商业授权请登陆https://huankemao.com参考相关说明，也可以致电了解详情。 ")]),a("p",{staticClass:"font-style"},[e._v(" 2. 不得对本软件或与之关联的商业授权进行出租、出售、抵押或发放子许可证。 ")]),a("p",{staticClass:"font-style"},[e._v(" 3. 无论如何，即无论用途如何、是否经过修改或美化、修改程度如何，只要使用唤客猫产品的整体或任何部分，未经书面许可，页面页脚处的唤客猫产品名称和唤客猫公司下属网站（https://huankemao.com） 的链接都必须保留，而不能清除或修改。 ")]),a("p",{staticClass:"font-style"},[e._v(" 4. 禁止在唤客猫产品的整体或任何部分基础上以发展任何派生版本、修改版本或第三方版本用于重新分发。 ")]),a("p",{staticClass:"font-style"},[e._v(" 5. 您从应用中心下载的应用程序，未经应用程序开发者/所有者的书面许可，不得对其进行反向工程、反向汇编、反向编译等，不得擅自复制、修改、链接、转载、汇编、发表、出版、发展与之有关的衍生产品、作品等。 ")]),a("p",{staticClass:"font-style"},[e._v(" 6. 如果您未能遵守本协议的条款，您的授权将被终止，所许可的权利将被收回，同时您应承担相应法律责任。 ")]),a("h2",[e._v("三、 有限担保和免责声明")]),a("p",{staticClass:"font-style"},[e._v(" 1. 本软件及所附带的文件是作为不提供任何明确的或隐含的赔偿或担保的形式提供的。 ")]),a("p",{staticClass:"font-style"},[e._v(" 2. 用户出于自愿而使用本软件，您必须了解使用本软件的风险，在尚未购买产品技术服务之前，我们不承诺提供任何形式的技术支持、使用担保，也不承担任何因使用本软件而产生问题的相关责任。 ")]),a("p",{staticClass:"font-style"},[e._v(" 3. 唤客猫公司不对使用本软件构建的网站中或者论坛中的文章或信息承担责任，全部责任由您自行承担。 ")]),a("p",{staticClass:"font-style"},[e._v(" 4. 唤客猫公司无法全面监控由第三方上传至应用中心的应用程序，因此不保证应用程序的合法性、安全性、完整性、真实性或品质等；您从应用中心下载应用程序时，同意自行判断并承担所有风险，而不依赖于唤客猫公司。但在任何情况下，唤客猫公司有权依法停止应用中心服务并采取相应行动，包括但不限于对于相关应用程序进行卸载，暂停服务的全部或部分，保存有关记录，并向有关机关报告。由此对您及第三人可能造成的损失，唤客猫公司不承担任何直接、间接或者连带的责任。 ")]),a("p",{staticClass:"font-style"},[e._v(" 5. 唤客猫公司对唤客猫提供的软件和服务之及时性、安全性、准确性不作担保，由于不可抗力因素、唤客猫公司无法控制的因素（包括黑客攻击、停断电等）等造成软件使用和服务中止或终止，而给您造成损失的，您同意放弃追究唤客猫公司责任的全部权利。 ")]),a("p",{staticClass:"font-style"},[e._v(" 6. 唤客猫公司特别提请您注意，唤客猫公司为了保障公司业务发展和调整的自主权，唤客猫公司拥有随时经或未经事先通知而修改服务内容、中止或终止部分或全部软件使用和服务的权利，修改会公布于唤客猫公司网站相关页面上，一经公布视为通知。 唤客猫公司行使修改或中止、终止部分或全部软件使用和服务的权利而造成损失的，唤客猫公司不需对您或任何第三方负责。 ")]),a("p",{staticClass:"font-style"},[e._v(" 有关唤客猫产品最终用户授权协议、商业授权与技术服务的详细内容，均由唤客猫公司独家提供。唤客猫公司拥有在不事先通知的情况下，修改授权协议和服务价目表的权利，修改后的协议或价目表对自改变之日起的新授权用户生效。 ")]),a("p",{staticClass:"font-style"},[e._v(" 一旦您开始安装唤客猫产品，即被视为完全理解并接受本协议的各项条款，在享有上述条款授予的权利的同时，受到相关的约束和限制。协议许可范围以外的行为，将直接违反本授权协议并构成侵权，我们有权随时终止授权，责令停止损害，并保留追究相关责任的权力。 ")]),a("p",{staticClass:"font-style"},[e._v(" 本许可协议条款的解释，效力及纠纷的解决，适用于中华人民共和国大陆法律。 ")]),a("p",{staticClass:"font-style"},[e._v(" 若您和唤客猫之间发生任何纠纷或争议，首先应友好协商解决，协商不成的，您在此完全同意将纠纷或争议提交唤客猫所在地成都市高新区人民法院管辖。唤客猫公司拥有对以上各项条款内容的解释权及修改权。 ")]),a("h2",{staticStyle:{margin:"20px","text-align":"right"}},[e._v("成都唤客猫科技有限公司")])])])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"title-header"},[a("span",{staticClass:"icon"}),a("span",[e._v("服务器信息检测")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"title-header"},[a("span",{staticClass:"icon"}),a("span",[e._v("PHP环境要求")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"title-header"},[a("span",{staticClass:"icon"}),a("span",[e._v("目录权限监测")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"title-header"},[a("span",{staticClass:"icon"}),a("span",[e._v("数据库账号")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"title-header"},[a("span",{staticClass:"icon"}),a("span",[e._v("管理员账号")])])}],r=(a("a623"),a("4160"),a("d81d"),a("fb6a"),a("d3b7"),a("3ca3"),a("159b"),a("ddb0"),a("96cf"),a("1da1")),l=a("5d2b"),n=a("365c"),o=a("b311"),c=a.n(o),u={components:{Header:l["default"],"remote-js":{render:function(e){return e("script",{attrs:{type:"text/javascript",src:this.src}})},props:{src:{type:String,required:!0}}}},data:function(){return{readFlag:!1,active:1,helpVisible:!1,publicFlag:!1,domIndex:0,directoryData:[{option:"/",require:"runtime目录可写",state:"",key:"runtime",loading:!0},{option:"/",require:"public/static目录可写",state:"",key:"uploads",loading:!0},{option:"/",require:"config/database目录可写",state:"",key:"database",loading:!0},{option:"/",require:"public/install目录可写",state:"",key:"install",loading:!0}],phpData:[{option:"PHP版本",require:"7.1或7.1以上",state:1,key:"php",loading:!0},{option:"MySQL",require:"支持（强烈建议支持）",state:"",key:"mysql",loading:!0},{option:"PDO_MYSQL",require:"支持（强烈建议支持）",state:"",key:"pdo",loading:!0},{option:"allow_url_fopen ",require:"支持（强烈建议支持）",state:"",key:"allowed",loading:!0},{option:"cURL",require:"支持（强烈建议支持）",state:"",key:"curl",loading:!0},{option:"GD2",require:"支持",state:"",key:"gd",loading:!0},{option:"openssl",require:"支持",state:"",key:"openssl",loading:!0},{option:"bcmath",require:"支持",state:"",key:"bcmath",loading:!0},{option:"DOM",require:"支持",state:"",key:"DOMDocument",loading:!0},{option:"session.auto.start",require:"支持",state:"",key:"auto_start",loading:!0},{option:"asp_tags",require:"支持",state:"",key:"asp_tags",loading:!0}],serverData:[{option:"服务器操作系统",value:"",state:1,key:"os",loading:!0},{option:"Web服务器环境",value:"",state:1,key:"web",loading:!0},{option:"PHP版本",value:"",state:1,loading:!0,key:"php"},{option:"程序安装目录",value:"",state:1,loading:!0,key:"path"},{option:"磁盘空间",value:"",key:"size",state:1,loading:!0},{option:"上传限制",value:"",key:"upload",state:1,loading:!0}],firstShow:!1,lastShow:!1,firstFlag:!1,lastFlag:!1,index:0,first:!1,second:!1,third:!1,success:!1,nextFlag:!1,loading:!1,checked:!1,options:[],configFlag:!1,domain:"",form:{host:"127.0.0.1",port:"3306",user:"huankemao",pas:"",test:0,way:0,database:"huankemao",prefix:"hkm_",username:"admin",password:"",phone:"",wxk_customer_callback_url:"",wxk_customer_admin_secret:"",wxk_id:"",wxk_address_book_secret:"",wxk_customer_callback_token:"",wxk_customer_callback_key:"",wxk_app_agent_id:"",wxk_app_secret:"",is_cover:""},rules:{host:[{required:!0,message:"请输入数据库主机",trigger:"blur"}],port:[{required:!0,message:"请输入端口号",trigger:"blur"}],user:[{required:!0,message:"请输入用户名",trigger:"blur"}],pas:[{required:!0,message:"请输入密码",trigger:"blur"}],database:[{required:!0,message:"请输入数据名",trigger:"blur"}],prefix:[{required:!0,message:"请输入表前缀",trigger:"blur"}],username:[{required:!0,message:"请输入管理员账号",trigger:"blur"}],password:[{required:!0,message:"请输入登录密码",trigger:"blur"}],phone:[{required:!0,message:"请输入手机号",trigger:"blur"}],wxk_app_agent_id:[{required:!0,message:"请输入自建应用AgentId",trigger:"blur"}],wxk_app_secret:[{required:!0,message:"请输入自建应用Secret",trigger:"blur"}],wxk_customer_callback_url:[{required:!0,message:"请输入客户管理回调URL",trigger:"blur"}],wxk_customer_admin_secret:[{required:!0,message:"请输入客户管理Secret",trigger:"blur"}],wxk_id:[{required:!0,message:"请输入企业ID",trigger:"blur"}],wxk_address_book_secret:[{required:!0,message:"请输入通讯录Secret",trigger:"blur"}],wxk_customer_callback_token:[{required:!0,message:"请输入客户管理回调Token",trigger:"blur"}],wxk_customer_callback_key:[{required:!0,message:"请输入客户管理回调EncodingAESKey",trigger:"blur"}],wxk_public_app_id:[{required:!0,message:"请输入微信公众号AppID",trigger:"blur"}],wxk_public_app_secret:[{required:!0,message:"请输入微信公众号Secret",trigger:"blur"}]},time:3,successIndex:0,iconFlag:"",alertMessage:"",alertVisible:!1,alertLoding:!1,confirmVisible:!1,initVisible:!1,initLoading:!1,initFlag:"",width:"540px",btnFlag:!1,percentage:0,bg_color:"#F56C6C"}},watch:{checked:function(e){this.form.test=e?1:0},active:function(e){var t=this;if(2===e)this.nextFlag||this.reqEnvironment();else if(3===e)this.form.wxk_customer_callback_url||this.reqGetConfigRandom();else if(4===e)var a=setInterval((function(){t.time--,0==t.time&&(clearInterval(a),t.$router.push("/login"))}),1e3)},iconFlag:function(e){this.width=""===e?"540px":"525px"},configFlag:function(e){if(this.$refs.form3.clearValidate(),this.$refs.form4.clearValidate(),e){this.form.wxk_customer_callback_url||this.reqGetConfigRandom();var t=this.$refs.wrap;setTimeout((function(){t.scrollTop=400}),0)}},publicFlag:function(e){if(this.$refs.form5.clearValidate(),e){var t=this.$refs.wrap;setTimeout((function(){t.scrollTop=t.scrollHeight}),0)}},form:{handler:function(e){if(e.password){this.percentage=0,this.bg_color="#F56C6C";var t=0;e.password.length>=6&&t++,e.password.length>=8&&/\W/.test(e.password)&&t++,e.password.length>=10&&/[a-zA-Z]/.test(e.password)&&t++,1==t?(this.percentage=33,this.bg_color="#F56C6C"):2==t?(this.percentage=66,this.bg_color="#E6A23C"):3==t&&(this.percentage=100,this.bg_color="#67C23A")}else this.percentage=0,this.bg_color="#F56C6C"},deep:!0}},mounted:function(){},methods:{handleNext:function(e){1===e?this.readFlag?(this.active=2,this.successIndex=1):(this.active=1,this.$message.warning("请勾选协议，进行下一步")):2===e?this.firstFlag&&this.nextFlag&&this.lastFlag?(this.active=3,this.successIndex=2):(this.active=2,this.successIndex=1,this.$message.warning("需环境监测全部通过后，进行下一步")):3===e&&this.handleSubmit()},format:function(e){return 33==e?"弱":66==e?"中":100==e?"强":"无"},handlePrev:function(){this.active--},reqEnvironment:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,s,i,r,l,o,c,u,p;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.first=!1,e.second=!1,e.third=!1,e.nextFlag=!1,e.firstFlag=!1,e.lastFlag=!1,e.lastShow=!1,e.firstShow=!1,e.index=0,t.next=11,Object(n["L"])();case 11:if(a=t.sent,200==a.code){for(l in s=[],i=[],r=[],a.data)"os"!=l&&"web"!=l&&"php"!=l&&"path"!=l&&"size"!=l&&"upload"!=l&&"pdo"!=l&&"allowed"!=l&&"curl"!=l&&s.push(a.data[l]);for(u in i=s.slice(0,s.length-4),r=s.slice(s.length-4,s.length),e.first=!0,o=[],c=function(t){o.push(a.data[t]),e.serverData.map((function(e){e.loading=!0,e.key==t&&(e.value=a.data[t])})),e.directoryData.map((function(e){e.loading=!0,e.key==t&&(e.state=a.data[t])})),e.phpData.map((function(e){e.loading=!0,e.key==t&&"php"!==t?e.state=a.data[t]:e.key==t&&(e.value=a.data[t])}))},a.data)c(u);console.log(e.serverData,e.directoryData,e.phpData),p=setInterval((function(){e.first?e.index<e.serverData.length?(e.serverData[e.index].loading=!1,e.serverData=JSON.parse(JSON.stringify(e.serverData)),e.index++):(e.index=0,e.first=!1,e.second=!0,e.third=!1):e.second?e.index<e.phpData.length?(e.phpData[e.index].loading=!1,e.phpData=JSON.parse(JSON.stringify(e.phpData)),e.index++):(e.index=0,e.first=!1,e.second=!1,e.third=!0,e.firstFlag=i.every((function(e){return 1===e})),e.firstShow=!0):e.third?e.index<e.directoryData.length?(e.directoryData[e.index].loading=!1,e.directoryData=JSON.parse(JSON.stringify(e.directoryData)),e.index++):(e.index=0,e.first=!1,e.second=!1,e.third=!1,e.lastFlag=r.every((function(e){return 1===e})),e.lastShow=!0):(e.nextFlag=!0,e.success=!0,e.phpData.forEach((function(t){1!==t.state&&(e.success=!1)})),e.directoryData.forEach((function(t){1!==t.state&&(e.success=!1)})),e.serverData.forEach((function(t){1!==t.state&&(e.success=!1)})),clearInterval(p))}),100*Math.random())}else e.$message.error(a.msg);case 13:case"end":return t.stop()}}),t)})))()},reqSyncConfig:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.initVisible=!0,e.initLoading=!0,t.next=4,Object(n["zb"])({});case 4:a=t.sent,e.initLoading=!1,200===a.code?(e.initFlag=0,setTimeout((function(){e.initVisible=!1,e.active=4}),1500)):(e.initFlag=1,e.reqDelConfig());case 7:case"end":return t.stop()}}),t)})))()},reqDelConfig:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(n["C"])({});case 2:t.sent,e.btnFlag=!0;case 4:case"end":return t.stop()}}),t)})))()},reqInstall:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(n["kb"])(e.form);case 2:a=t.sent,200==a.code?1==e.form.way?(e.iconFlag=0,e.$message({type:"success",message:a.msg,center:!0})):e.configFlag?e.reqSyncConfig():e.active=4:201==a.code?e.confirmVisible=!0:1==e.form.way?(e.alertVisible=!0,e.alertMessage=a.msg):e.$message.error(a.msg);case 4:case"end":return t.stop()}}),t)})))()},reqGetConfigRandom:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(n["P"])({type:3});case 2:a=e.sent,200===a.code?(t.form.wxk_customer_callback_url=a.data.path,t.form.wxk_customer_callback_token=a.data.token,t.form.wxk_customer_callback_key=a.data.aes_key,t.domain=a.data.domain):(t.$message.error(a.msg),t.form.wxk_customer_callback_url="",t.form.wxk_customer_callback_token="",t.form.wxk_customer_callback_key="",t.domain="");case 4:case"end":return e.stop()}}),e)})))()},getToken:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(n["P"])({type:1});case 2:a=t.sent,200===a.code?e.form.wxk_customer_callback_token=a.data.token:e.$message.error(a.msg);case 4:case"end":return t.stop()}}),t)})))()},getKey:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(n["P"])({type:2});case 2:a=t.sent,200===a.code?e.form.wxk_customer_callback_key=a.data.aes_key:e.$message.error(a.msg);case 4:case"end":return t.stop()}}),t)})))()},editId:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(n["P"])({type:6,wxk_id:e.form.wxk_id});case 2:t.sent;case 3:case"end":return t.stop()}}),t)})))()},editToken:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(n["P"])({type:4,wxk_customer_callback_token:e.form.wxk_customer_callback_token});case 2:t.sent;case 3:case"end":return t.stop()}}),t)})))()},editKey:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(n["P"])({type:5,wxk_customer_callback_aes_key:e.form.wxk_customer_callback_key});case 2:t.sent;case 3:case"end":return t.stop()}}),t)})))()},handle:function(){var e=this;this.form.way=1,this.$refs.form1.validate((function(t){t&&e.reqInstall()}))},handleSubmit:function(){var e=this,t=[];this.$refs.form1.validate((function(e){t[0]=!!e})),this.$refs.form2.validate((function(e){t[1]=!!e})),this.configFlag?(this.$refs.form3.validate((function(e){t[2]=!!e})),this.$refs.form4.validate((function(e){t[3]=!!e}))):(t[2]=!0,t[3]=!0),this.publicFlag?this.$refs.form5.validate((function(e){t[4]=!!e})):t[4]=!0,Promise.all(t).then((function(t){t[0]&&t[1]&&t[2]&&t[3]&&t[4]&&(e.form.way=0,e.reqInstall())}))},downloadIamge:function(e){var t=document.createElement("a");t.href="/logo.png",t.download="自建应用Logo",t.click()},handleLogin:function(){this.$router.push("/login")},handleCopy:function(e,t){var a=this,s=new c.a(e.target,{text:function(){return t}});s.on("success",(function(e){a.$message.success("复制成功"),s.off("error"),s.off("success"),s.destroy()})),s.onClick(e)},handleRandom:function(e){"token"===e?this.getToken():"key"===e&&this.getKey()},handleHelp:function(e){this.$bus.$emit("showHelp",e)},close:function(e){this.helpVisible=e},handleIdBlur:function(){this.form.wxk_id&&this.editId()},handleTokenBlur:function(){/^[0-9a-zA-Z]{1,30}$/gi.test(this.form.wxk_customer_callback_token)?this.editToken():this.$message.warning("请输入长度30位以内的字母、数字")},handleKeyBlur:function(){/^[0-9a-zA-Z]{43}$/gi.test(this.form.wxk_customer_callback_key)?this.editKey():this.$message.warning("请输入固定长度43位的字母、数字")}}},p=u,d=(a("55e7"),a("2877")),m=Object(d["a"])(p,s,i,!1,null,"e578ada2",null);t["default"]=m.exports}}]);
//# sourceMappingURL=chunk-6a8082e6.00be677b.js.map